<template>
  <div class="controlBar">
    <div style="display: flex;align-items: center;min-width:410px">
      <div class="musicImg" @click="jumpToCurPlay()">
<!--        <router-link to="/curPlay">-->
          <img :src="curMusic.picUrl||''" alt=""/>
<!--        </router-link>-->
      </div>
      <div class="musicName">
        <p>{{curMusic.name||'听.见不同'}}</p>
        <p>{{curMusic.artistsName || ''}}</p>
      </div>
      <div class="musicQuality">{{'标准'||'SQ'}}</div>
      <div class="musicLike">
        <svg t="1610098253511" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="900" width="200" height="200"><path d="M737.712 96.016C640.576 96.016 556.064 151.312 512.432 231.712 468.528 151.312 383.6 96.016 286.464 96.016 145.792 96.016 31.76 210.672 31.76 352.112 31.76 419.248 57.456 480.336 99.472 526L490.576 919.04C496.528 925.024 504.32 927.984 512.096 927.968 519.872 927.984 527.648 925.024 533.584 919.04L924.704 526C966.72 480.336 992.416 419.248 992.416 352.112 992.416 210.672 878.384 96.016 737.712 96.016ZM876.08 484.512 512.096 854.144 148.096 484.512C115.456 450.064 95.44 403.44 95.44 352.112 95.44 246.048 180.96 160.048 286.464 160.048 371.664 160.048 445.024 216.512 470.464 293.952 477.28 310.592 493.488 322.304 512.48 322.304 531.456 322.304 547.632 310.608 554.464 294.048L554.48 294.048C579.664 216.544 652.48 160.048 737.712 160.048 843.2 160.048 928.736 246.048 928.736 352.112 928.736 403.44 908.72 450.064 876.08 484.512Z" fill="#8a8a8a" p-id="901"></path></svg>
        <!--      <svg t="1610098640173" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="900" width="200" height="200"><path d="M512 164.864l-31.232-30.72a281.6 281.6 0 0 0-398.336 397.824L512 961.536l429.568-430.08a281.6 281.6 0 0 0-398.336-397.824l-31.232 31.232z" fill="#ff3333" p-id="901"></path></svg>-->
      </div>
      <div class="musicMore">
        <svg t="1610100421055" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="930" width="200" height="200"><path d="M280.53125 511.27083333c-0.09375 42.65625-34.5 77.0625-77.25 76.96875-42.5625-0.09375-77.15625-34.6875-77.0625-77.34375 0-42.46875 34.78125-77.0625 77.4375-76.96875 42.5625 0.09375 76.875 34.59375 76.875 77.34375zM821.46875 434.02083333c42.65625 0 77.34375 34.5 77.34375 77.0625 0.09375 42.5625-34.5 77.25-77.15625 77.25-42.75 0-77.25-34.3125-77.25-77.0625s34.3125-77.25 77.0625-77.25zM512.375 588.33333333c-42.5625 0-77.4375-34.96875-77.25-77.25 0.28125-42.65625 34.78125-77.0625 77.4375-77.0625 42.5625 0 77.34375 34.78125 77.15625 77.25-0.09375 42.5625-34.6875 77.0625-77.34375 77.0625z" fill="#8a8a8a" p-id="931"></path></svg>
      </div>
    </div>

    <div>
      <audio ref="music" loop autoplay>
        <source src="https://m8.music.126.net/20210121115925/65c26515a244917cc838f1d725505fc6/ymusic/obj/w5zDlMODwrDDiGjCn8Ky/3984532057/a616/41a6/cc6a/ecab9a71084963bebf463bfabb4cbf98.mp3" type="audio/mpeg">
      </audio>
    </div>
    <div class="musicCtrl">
      <div id="prev" @click="prev()"><svg t="1610101043442" class="icon musicCut" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="726" width="200" height="200"><path d="M172.435 908.222l42.94300001 0c20.201 0 36.57599999-16.377 36.57499999-36.575l0-295.68c4.175 3.476 8.786 6.80200001 13.853 9.94l502.84900001 311.527c56.999 35.311 103.634 9.343 103.63599999-57.71l0-654.727c0-67.05400001-46.086-92.15-102.413-55.774l-505.296 326.339c-4.59 2.963-8.795 6.07800001-12.629 9.315l0-310.772c0-20.201-16.371-36.573-36.576-36.57300001l-42.943 1e-8c-20.201 0-36.575 16.373-36.576 36.573l0 717.547c0 20.201 16.377 36.573 36.576 36.57300001z" fill="#707070" p-id="727"></path></svg></div>
      <div id="play"><svg t="1610102226319" class="icon musicPlay" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="896" width="200" height="200"><path d="M512 0C229.209234 0 0 229.209234 0 512c0 282.78784 229.209234 512 512 512 282.78784 0 512-229.21216 512-512C1024 229.209234 794.78784 0 512 0z m244.993463 553.106286l-305.403612 210.101394a49.95072 49.95072 0 0 1-51.501348 3.086629c-16.398629-8.674743-26.697143-25.678994-26.697143-44.187063V301.898606c0-18.508069 10.298514-35.515246 26.697143-44.189989a49.953646 49.953646 0 0 1 51.501348 3.086629l305.403612 210.098468a49.947794 49.947794 0 0 1 21.612251 41.106286 49.941943 49.941943 0 0 1-21.612251 41.106286z" fill="#ff3300" p-id="897"></path></svg></div>
      <div id="next" @click="next()"><svg t="1610101055708" class="icon musicCut" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="866" width="200" height="200"><path d="M851.565 115.778l-42.94300001 0c-20.201 0-36.57599999 16.377-36.57499999 36.575l0 295.68c-4.175-3.476-8.786-6.80200001-13.853-9.94l-502.84900001-311.527c-56.999-35.311-103.634-9.343-103.63599999 57.71l0 654.727c0 67.05400001 46.086 92.15 102.413 55.774l505.296-326.339c4.59-2.963 8.795-6.07800001 12.629-9.315l0 310.772c0 20.201 16.371 36.573 36.576 36.57300001l42.943-1e-8c20.201 0 36.575-16.373 36.576-36.573l0-717.547c0-20.201-16.377-36.573-36.576-36.57300001z" fill="#707070" p-id="867"></path></svg></div>
    </div>

    <div class="musicCtrlRight">
      <div style="display: flex;align-items: center;">
        <svg t="1610124222997" class="icon musicSound" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="908" width="200" height="200"><path d="M510.368 939.104c-21.728 0-43.712-15.104-71.52-38.72l-189.472-157.472L163.552 742.912C108.672 742.88 64 698.24 64 643.328l0-263.104c0-54.88 44.672-99.552 99.552-99.552l85.824 0 189.376-157.376c27.904-23.968 49.504-38.4 71.424-38.4 23.808 0 51.616 16.224 51.616 61.856l0 730.08C561.792 922.816 534.08 939.104 510.368 939.104L510.368 939.104zM163.552 347.04c-18.272 0-33.184 14.912-33.184 33.184l0 263.104c0 18.304 14.912 33.184 33.184 33.184l99.552 0c8.8 0 17.248 3.488 23.456 9.728l199.168 167.2c3.52 3.488 6.72 6.432 9.664 8.896L495.392 161.28c-2.88 2.432-6.176 5.376-9.728 8.928l-199.104 167.104c-6.208 6.24-14.656 9.728-23.456 9.728L163.552 347.04 163.552 347.04zM677.504 738.24c-6.688 0-13.472-2.016-19.328-6.24-14.88-10.688-18.272-31.424-7.616-46.336l13.152-17.984c34.336-46.56 64-86.816 64-155.904 0-71.584-26.272-106.336-59.584-150.304-5.888-7.744-11.744-15.552-17.568-23.616-10.688-14.88-7.296-35.616 7.616-46.336 14.912-10.752 35.616-7.296 46.336 7.616 5.44 7.616 11.04 15.008 16.544 22.304 35.904 47.456 72.992 96.512 72.992 190.368 0 90.88-40.832 146.336-76.896 195.296l-12.672 17.344C698.016 733.472 687.84 738.24 677.504 738.24L677.504 738.24zM790.4 850.912c-7.776 0-15.584-2.72-21.856-8.224-13.76-12.064-15.168-33.056-3.104-46.816 66.592-75.968 128.192-162.88 128.192-284.064 0-121.184-61.6-208.128-128.192-284.032-12.064-13.792-10.688-34.752 3.104-46.848 13.696-12.096 34.688-10.72 46.816 3.04 71.52 81.6 144.64 184.32 144.64 327.84 0 143.52-73.152 246.272-144.64 327.808C808.736 847.104 799.584 850.912 790.4 850.912L790.4 850.912zM790.4 850.912" fill="#707070" p-id="909"></path></svg>
        <div style="margin-left:5px;display:inline;width: 80px;height:1px;border: 1px solid #ff3333;background-color: #f33;"></div>
      </div>
      <div><svg t="1610124287677" class="icon musicCircle" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="200" height="200"><path d="M704 729.6H337.066667c-25.6 0-42.666667-17.066667-42.666667-42.666667v-251.733333l29.866667 29.866667c8.533333 8.533333 21.333333 8.533333 29.866666 0 8.533333-8.533333 8.533333-21.333333 0-29.866667L285.866667 366.933333c-8.533333-4.266667-21.333333-4.266667-29.866667 0l-68.266667 68.266667c-8.533333 8.533333-8.533333 21.333333 0 29.866667s21.333333 8.533333 29.866667 0l29.866667-29.866667v251.733333c0 46.933333 38.4 85.333333 85.333333 85.333334h371.2c12.8 0 21.333333-8.533333 21.333333-21.333334s-8.533333-21.333333-21.333333-21.333333zM836.266667 563.2c-8.533333-8.533333-21.333333-8.533333-29.866667 0l-34.133333 34.133333V337.066667c0-46.933333-38.4-85.333333-85.333334-85.333334H320c-12.8 0-21.333333 8.533333-21.333333 21.333334s8.533333 21.333333 21.333333 21.333333h371.2c25.6 0 42.666667 17.066667 42.666667 42.666667V597.333333l-34.133334-34.133333c-8.533333-8.533333-21.333333-8.533333-29.866666 0s-8.533333 21.333333 0 29.866667l68.266666 68.266666c8.533333 8.533333 21.333333 8.533333 29.866667 0l68.266667-68.266666c4.266667-8.533333 4.266667-21.333333 0-29.866667z" fill="#707070" p-id="1053"></path><path d="M533.333333 597.333333v-170.666666c0-12.8-8.533333-21.333333-21.333333-21.333334s-21.333333 8.533333-21.333333 21.333334v170.666666c0 12.8 8.533333 21.333333 21.333333 21.333334s21.333333-8.533333 21.333333-21.333334z" fill="#707070" p-id="1054"></path></svg></div>
      <div><svg t="1610123731721" class="icon musicEffects" viewBox="0 0 1050 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="816" width="200" height="200"><path d="M921.601382 609.5104 921.601382 960C921.601382 981.1968 904.398182 998.4 883.201382 998.4 862.004582 998.4 844.801382 981.1968 844.801382 960L844.801382 609.5104C771.508582 592.1024 716.801382 526.6176 716.801382 448 716.801382 369.3824 771.508582 303.872 844.801382 286.4896L844.801382 38.4C844.801382 17.1776 862.004582 0 883.201382 0 904.398182 0 921.601382 17.1776 921.601382 38.4L921.601382 286.4896C994.894182 303.872 1049.601382 369.3824 1049.601382 448 1049.601382 526.6176 994.894182 592.1024 921.601382 609.5104ZM883.201382 358.5024C833.767782 358.5024 793.703782 398.5664 793.703782 448 793.703782 497.4336 833.767782 537.472 883.201382 537.472 932.634982 537.472 972.698982 497.4336 972.698982 448 972.698982 398.5664 932.634982 358.5024 883.201382 358.5024ZM563.201382 839.9104 563.201382 985.6C563.201382 1006.7968 545.998182 1024 524.801382 1024 503.604582 1024 486.401382 1006.7968 486.401382 985.6L486.401382 839.9104C413.108582 822.5024 358.401382 757.0176 358.401382 678.4 358.401382 599.7568 413.108582 534.272 486.401382 516.8896L486.401382 38.4C486.401382 17.1776 503.604582 0 524.801382 0 545.998182 0 563.201382 17.1776 563.201382 38.4L563.201382 516.8896C636.494182 534.272 691.201382 599.7568 691.201382 678.4 691.201382 757.0176 636.494182 822.5024 563.201382 839.9104ZM524.801382 588.9024C475.367782 588.9024 435.303782 628.9664 435.303782 678.4 435.303782 727.808 475.367782 767.872 524.801382 767.872 574.234982 767.872 614.298982 727.808 614.298982 678.4 614.298982 628.9664 574.234982 588.9024 524.801382 588.9024ZM204.801382 507.1104 204.801382 985.6C204.801382 1006.7968 187.598182 1024 166.401382 1024 145.204582 1024 128.001382 1006.7968 128.001382 985.6L128.001382 507.1104C54.708582 489.7024 0.001382 424.2176 0.001382 345.5744 0.001382 266.9568 54.708582 201.472 128.001382 184.0896L128.001382 38.4C128.001382 17.1776 145.204582 0 166.401382 0 187.598182 0 204.801382 17.1776 204.801382 38.4L204.801382 184.0896C278.094182 201.472 332.801382 266.9568 332.801382 345.5744 332.801382 424.2176 278.094182 489.7024 204.801382 507.1104ZM166.401382 256.1024C116.967782 256.1024 76.903782 296.1664 76.903782 345.5744 76.903782 395.008 116.967782 435.0976 166.401382 435.0976 215.834982 435.0976 255.898982 395.008 255.898982 345.5744 255.898982 296.1664 215.834982 256.1024 166.401382 256.1024Z" fill="#707070" p-id="817"></path></svg></div>
      <div><svg t="1610113580792" class="icon musicWords" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="786" width="200" height="200"><path d="M991.16799969 933.52533364l0.83200031 0.41599969V125.52533333C989.18400031 80.24533302 958.016 56.14933302 898.592 53.33333333H397.31199969c-31.16800031 2.81599969-48.12799969 22.656-51.03999938 59.424 2.81599969 36.79999969 19.84000031 56.64 51.03999938 59.424h462.94400062c8.51200031 0 12.79999969 4.25599969 12.79999969 12.79999969v688.09600031l1.12000031 0.64000031h-160.19200031c-16.32 0-42.816 21.18400031-44.89600031 55.13599969 2.08000031 36.79999969 24.64000031 56.64 44.89600031 59.45599969h240.92800031c21.408-2.62399969 33.43999969-20.89600031 36.25599938-54.78399938z m-551.35999969-591.36c-28.38400031-2.81599969-43.84000031-22.656-46.78399969-59.424 2.81599969-33.984 18.40000031-52.38400031 46.78399969-55.16800031h348.25600031c33.95200031 2.784 52.35199969 21.18400031 55.16799938 55.16800031-2.81599969 36.79999969-19.84000031 56.64-51.03999938 59.424H439.808zM92.768 168.02133364C76.16 165.23733364 39.16800031 145.39733333 37.50399969 108.50133364 39.16800031 74.51733364 70.14399969 56.14933302 86.84799969 53.33333333h136.96000031c20.03200031 2.81599969 48.70399969 21.18400031 50.36800031 55.16800031-1.56799969 36.89599969-31.99999969 56.736-50.36800031 59.52H92.768zM257.15199969 870.61333302V371.89333302c2.784-62.36800031-21.216-92.064-72.22399969-89.28H83.00799969C51.84000031 285.55733333 34.91199969 305.42933333 32 342.19733333c2.81599969 39.67999969 19.84000031 60.89599969 51.00799969 63.67999969h42.49600031c8.51200031 0 12.79999969 4.25599969 12.79999969 12.80000062v503.26399969a24.31999969 24.31999969 0 0 0-0.31999969 3.936c0.31999969 7.36000031 2.08000031 14.04799969 4.76800031 20.064 7.03999969 23.16799969 19.2 35.20000031 46.56 41.98399969a21.024 21.024 0 0 0 13.50399938-2.62399969h119.68000031c17.664-2.784 50.592-22.62400031 52.25599969-59.424-1.56799969-33.95200031-32.95999969-52.35199969-52.25599969-55.16800031H257.12v-0.096z m237.92000062-52.67199938c-59.424 0-89.28-28.38400031-89.28-84.99200062v-246.336c0-56.64 25.47199969-84.99199969 76.47999938-84.99199969h250.62400031c59.424 0 87.77599969 24.096 84.96 72.22399969v259.104c0 56.64-25.44 84.99199969-76.48000031 84.99200062h-246.30399938z m29.69599969-123.20000062c2.81599969 5.69599969 7.07200031 9.85600031 12.79999969 12.768h148.67200031c8.51200031 0 12.79999969-4.28800031 12.79999969-12.79999969v-165.6c0-8.51200031-4.28800031-12.79999969-12.79999969-12.79999969h-148.8c-8.51200031 0-12.768 4.28800031-12.768 12.79999969v165.6h0.096z" fill="#707070" p-id="787"></path></svg></div>
      <div><svg t="1610123989169" class="icon musicList" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="847" width="200" height="200"><path d="M715.733333 564.48c0-9.130667 6.058667-17.066667 14.848-19.541333l53.248-14.848a20.266667 20.266667 0 0 1 10.88 39.04l-38.442666 10.709333v167.253333c0 1.024 0 1.024-0.085334 1.408l0.085334 3.498667a68.266667 68.266667 0 1 1-40.533334-62.378667v-125.184z m-27.733333 215.253333a27.733333 27.733333 0 1 0 0-55.466666 27.733333 27.733333 0 0 0 0 55.466666z" fill="#707070" p-id="848"></path><path d="M272 298.666667C263.168 298.666667 256 289.109333 256 277.333333s7.168-21.333333 16-21.333333h512c8.832 0 16 9.557333 16 21.333333s-7.168 21.333333-16 21.333334h-512zM272 458.666667c-8.832 0-16-9.557333-16-21.333334s7.168-21.333333 16-21.333333h512c8.832 0 16 9.557333 16 21.333333s-7.168 21.333333-16 21.333334h-512zM272 618.666667C263.168 618.666667 256 609.109333 256 597.333333s7.168-21.333333 16-21.333333h320c8.832 0 16 9.557333 16 21.333333s-7.168 21.333333-16 21.333334h-320zM272 778.666667c-8.832 0-16-9.557333-16-21.333334s7.168-21.333333 16-21.333333h256c8.832 0 16 9.557333 16 21.333333s-7.168 21.333333-16 21.333334h-256z" fill="#707070" p-id="849"></path></svg></div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'ControlBar',
  props: {
    playlist: {
      type: Array,
      default: function() { return [] }
    },
    isPlay: Boolean
  },
  data() {
    return {
      music: {
        isPlay: false,
        currentTime: 0,
        maxTime: 0,
        volume: 50
      },
      curMusic: {
        picUrl: '',
        name: '',
        artistsName: ''
      },
      i: 0 // 歌单的索引值
      // https://api.imjad.cn/cloudmusic/?type=song&id=1406633327
    }
  },
  mounted() {
    // this.$nextTick(() => {
    //   setInterval(this.listenMusic, 1000)
    // })
    console.log(this.props)
  },
  updated() {
    console.log('控制条更新')
  },
  methods: {
    // listenMusic() {
    //   if (!this.$refs.music) {
    //     return
    //   }
    //   if (this.$refs.music.readyState) {
    //     this.music.maxTime = this.$refs.music.duration
    //   }
    //   this.music.isPlay = !this.$refs.music.paused
    //   this.music.currentTime = this.$refs.music.currentTime
    // },
    // play() {
    //   if (this.$refs.music.paused) {
    //     this.$refs.music.play()
    //   } else {
    //     this.$refs.music.pause()
    //   }
    //   this.music.isPlay = !this.$refs.music.paused
    // this.$nextTick(() => {
    //   document.getElementById('play').blur()
    // })
    // },
    // changeTime(time) {
    //   this.$refs.music.currentTime = time
    // },
    // changeVolume(v) {
    //   this.music.volume += v
    //   if (this.music.volume > 100) {
    //     this.music.volume = 100
    //   }
    //   if (this.music.volume < 0) {
    //     this.music.volume = 0
    //   }
    //   this.$refs.music.volume = this.music.volume / 100
    // },
    // formatTime(time) {
    //   const it = parseInt(time)
    //   const m = parseInt(it / 60)
    //   const s = parseInt(it % 60)
    //   return (m < 10 ? '0' : '') + parseInt(it / 60) + ':' + (s < 10 ? '0' : '') + parseInt(it % 60)
    // }
    prev() {
      this.i = this.i - 1
      console.log(this.i)
    },
    next() {
      this.i = this.i + 1
      console.log(this.i)
    },
    jumpToCurPlay(e) {
      console.log('去当前播放的歌曲')
      this.$router.push({
        name: 'CurPlay',
        // params: {
        //   id: e
        // }
      })
    }
  },
  watch: {
    // i: function() {}
  }
}
</script>

<style scoped>
.controlBar {
  height: 72px;
  min-width: 1000px;
  background-color: rgba(236,236,236,.96);
  /*filter: blur(.5px);*/
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  bottom: 0;
  z-index: 100;
}

.controlBar > div {
  z-index: 110;
  position: relative;
  height: 72px;
}
.musicImg {
  height: 100%;
  width: 72px;
  margin-right: 4px;
  background-color: rgb(210,210,210);
}
.musicImg img{
  width: 72px;
}
.musicName {
  max-width: 210px;
  margin: 0 4px;
  padding-right: 7px;
  letter-spacing: .5px;
  font-weight: 360;
  text-align: left;
  color: #444;
}

.musicName p {
  display: -webkit-box;
  overflow: hidden;
  text-overflow: unset;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}
.musicName p:last-child {
  color: #b3b3b3;
  font-size: 12px;
}
.musicQuality {
  border: 1px solid rgb(200,200,200);
  box-shadow: rgb(210, 210, 210) 0 0 .5px .5px;
  font-size: 8px;
  font-weight: bold;
  border-radius: 3px;
  color: #666;
  margin: 0 6px;
  line-height: 13px;
  width: 32px;
}
.musicLike {
  margin: 0 18px;
  height: 72px;
  display: flex;
  align-items: center;
}
.musicLike .icon, .musicWords {
  width: 17px;
}
.musicMore {
  margin: 0 3px;
  display: flex;
  align-items: center;
}
.musicMore .icon {
  width: 18px;
  height: 72px;
}
.musicCtrl {
  width: 140px;
  display: flex;
  justify-content: center;
  position: absolute;
  align-items: center;
  height: 72px;
}

.musicCut {
  width: 20px;
  height: 20px;
}
.musicPlay {
  margin: 0 20px;
  height: 100%;
  width: 38px;
}
.musicCtrlRight {
  text-align: right;
  display: flex;
  align-items:center;
  height: 72px;
  width: 410px;
  justify-content: flex-end;
  padding-right: 28px;

}

.musicEffects {
  width: 14px;
  margin-left: 24px;
  transform: rotate(180deg);
  transform: rotateX(180deg);
}
.musicWords {
  width: 13px;
  height: 72px;
  margin-left: 26px;
}
.musicSound {
  width: 16px;
  margin-left: 20px;
}
.musicCircle {
  width: 24px;
  margin-left: 15px;
}
.musicList {
  width: 20px;
  margin-left: 20px;
 }
</style>
